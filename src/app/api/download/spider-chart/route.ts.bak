import { NextResponse } from "next/server";

export const runtime = "nodejs";


export async function GET(request: Request) {
  const url = new URL("/downloads/spider-identification-chart.jpg", request.url);
  const res = await fetch(url.toString(), { cache: "force-cache" });
  if (!res.ok) return new NextResponse("Not found", { status: 404 });

  const blob = await res.blob();
  return new NextResponse(blob, {
    headers: {
      "Content-Type": "image/jpeg",
      "Content-Disposition": "attachment; filename=\"All-Star-Spider-Identification-Chart.jpg\"",
      "Cache-Control": "public, max-age=31536000, immutable"
    }
  });
}

